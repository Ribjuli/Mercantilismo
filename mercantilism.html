<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de Mercantilismo</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: #f0f2f5;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .chat-container {
            width: 100%;
            max-width: 500px;
            height: 100%;
            max-height: 800px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .header {
            background-color: #4a69bd;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .header-content {
            flex: 1;
        }
        
        .header h2 {
            font-size: 18px;
            margin: 0;
        }
        
        .header p {
            font-size: 12px;
            opacity: 0.8;
            margin: 2px 0 0;
        }
        
        .messages {
            flex: 1;
            padding: 15px 10px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background-color: #e5ddd5;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAA+UlEQVQ4y+3UMUoDQRTG8Z+KB7ATtPQEXsQDsGkEtRRS2QZSWFmJhZ1XSGmTTi/gBVLZCCkk2V1mJZtZNkVefAzD7Lxv/plhGIZh/O8jVdd1BykOMMUTXjJZin3cYoHvAeQUNzK0Ie8ww0MGOMYZbvDWg9xiimtdrZvgDG/47EDe41I7qOICz3jvQN5jorCjsMPCucr/iXzEGA842YiyjDK+8NWCXGGMcxxvRHnBGO846IC8wVQRZRu8YtSCLGOMc8zbkC+40ilGG5H3uFS8XeQUC1y0ID+rcOxVRQx1ZXEFOUKZiJ+UuExUBlmG/h9CGIZh9I8fZPXzsj3XqDMAAAAASUVORK5CYII=');
        }
        
        .message {
            display: flex;
            gap: 8px;
            max-width: 85%;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
            align-self: flex-end;
        }
        
        .message-content {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }
        
        .message-bubble {
            padding: 10px 15px;
            border-radius: 18px;
            word-wrap: break-word;
            line-height: 1.4;
            font-size: 14px;
        }
        
        .message-info {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .message-sender {
            font-weight: bold;
            font-size: 12px;
            color: #333;
        }
        
        .message-time {
            font-size: 10px;
            color: #666;
        }
        
        .teacher-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        
        .teacher-message .message-bubble {
            background-color: #d9fdd3;
            border-bottom-right-radius: 4px;
        }
        
        .colbert-message .message-bubble {
            background-color: #5e69e6;
            color: white;
            border-bottom-left-radius: 4px;
        }
        
        .mun-message .message-bubble {
            background-color: #e67e22;
            color: white;
            border-bottom-left-radius: 4px;
        }
        
        .cromwell-message .message-bubble {
            background-color: #8e44ad;
            color: white;
            border-bottom-left-radius: 4px;
        }
        
        .input-container {
            display: flex;
            padding: 10px;
            background-color: #f0f2f5;
            border-top: 1px solid #ddd;
        }
        
        .input-box {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 20px;
            margin-right: 8px;
            outline: none;
            font-size: 14px;
            background-color: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .send-button {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background-color: #4a69bd;
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.2s;
        }
        
        .send-button:hover {
            background-color: #3b5bbf;
        }
        
        .send-icon {
            width: 20px;
            height: 20px;
        }
        
        @media (max-width: 500px) {
            body {
                padding: 0;
            }
            
            .chat-container {
                border-radius: 0;
                max-height: none;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="header">
            <img src="https://i.imgur.com/EY8WtJD.png" alt="Grupo">
            <div class="header-content">
                <h2>Historia del Mercantilismo</h2>
                <p>En línea - 4 participantes</p>
            </div>
        </div>
        
        <div class="messages" id="messages">
            <!-- Mensajes aparecerán aquí -->
        </div>
        
        <div class="input-container">
            <input type="text" id="input-box" class="input-box" placeholder="Escribe un mensaje...">
            <button class="send-button" id="send-button">
                <svg class="send-icon" viewBox="0 0 24 24" fill="white">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        const participantes = {
            colbert: {
                nombre: "Jean-Baptiste Colbert",
                inicial: "JC",
                avatar: "https://i.imgur.com/JVktXDS.png",
                descripcion: "Ministro de Finanzas francés, principal exponente del colbertismo"
            },
            mun: {
                nombre: "Thomas Mun",
                inicial: "TM",
                avatar: "https://i.imgur.com/p5nJ3bd.png",
                descripcion: "Economista inglés, teórico del mercantilismo"
            },
            cromwell: {
                nombre: "Oliver Cromwell",
                inicial: "OC",
                avatar: "https://i.imgur.com/JQ5yasN.png",
                descripcion: "Lord Protector de Inglaterra, implementó políticas mercantilistas"
            },
            teacher: {
                nombre: "Profesora",
                inicial: "P",
                avatar: "https://i.imgur.com/qMYRTqE.png",
                descripcion: "Moderando la discusión"
            }
        };

        // Conversación detallada sobre mercantilismo
        const flujoConversacion = [
            // Inicio
            {
                pregunta: "Bienvenidos a todos. Podríamos comenzar explicando ¿qué es el mercantilismo?",
                respuestas: [
                    {
                        sender: "mun",
                        text: "El mercantilismo es un sistema económico que prevaleció en Europa entre los siglos XVI y XVIII. Se basaba en la creencia de que la riqueza de una nación dependía de su acumulación de metales preciosos, principalmente oro y plata."
                    },
                    {
                        sender: "colbert",
                        text: "Exacto. Como ministro de Luis XIV, implementé políticas para maximizar las exportaciones y minimizar las importaciones, lo que llamamos 'balanza comercial favorable'. Esto incluía el desarrollo de manufacturas reales."
                    }
                ]
            },
            // Características principales
            {
                pregunta: "¿Cuáles son las características principales del mercantilismo?",
                respuestas: [
                    {
                        sender: "cromwell",
                        text: "1) Proteccionismo: altos aranceles a las importaciones. 2) Colonialismo: las colonias proveían materias primas y compraban productos terminados. 3) Intervención estatal fuerte en la economía. En Inglaterra implementamos los Navigation Acts para controlar el comercio."
                    },
                    {
                        sender: "mun",
                        text: "Añadiría otras dos características clave: 4) La visión de suma cero del comercio internacional (si uno gana, otro pierde). 5) La identificación de riqueza con acumulación de metales preciosos, no con productividad."
                    }
                ]
            },
            // Diferencias nacionales
            {
                pregunta: "¿Había diferencias entre los países mercantilistas?",
                respuestas: [
                    {
                        sender: "colbert",
                        text: "¡Por supuesto! En Francia desarrollé el 'colbertismo', que enfatizaba la industrialización y calidad de productos. Creé manufacturas reales como los Gobelinos para tapices y Saint-Gobain para vidrios. También mejoré la infraestructura con canales y caminos."
                    },
                    {
                        sender: "cromwell",
                        text: "Inglaterra se enfocó más en el poder naval y el comercio. Los Navigation Acts de 1651 requerían que las importaciones llegaran en barcos ingleses, destruyendo el predominio holandés. También promovimos la industria lanera."
                    }
                ]
            },
            // Impacto en colonias
            {
                pregunta: "¿Cómo afectó el mercantilismo a las colonias?",
                respuestas: [
                    {
                        sender: "cromwell",
                        text: "Las colonias existían para beneficiar a la metrópoli. Por ejemplo, las colonias inglesas en América del Norte debían enviar tabaco, algodón y azúcar solo a Inglaterra, y solo podían comprar manufacturas inglesas."
                    },
                    {
                        sender: "colbert",
                        text: "En el caso francés, prohibimos que Quebec desarrollara industrias que compitieran con las nuestras. Su papel era proveer pieles para la industria de sombreros en Francia. Estas restricciones generaron mucho resentimiento."
                    }
                ]
            },
            // Decadencia
            {
                pregunta: "¿Por qué declinó el mercantilismo?",
                respuestas: [
                    {
                        sender: "mun",
                        text: "Adam Smith en 'La Riqueza de las Naciones' (1776) demostró los errores del sistema: 1) Confundir dinero con riqueza. 2) Ignorar las ventajas del comercio libre. 3) Las políticas proteccionistas encarecían los bienes para los consumidores."
                    },
                    {
                        sender: "colbert",
                        text: "Además, la Revolución Industrial hizo obsoletas muchas prácticas. Las nuevas fábricas necesitaban mercados más amplios y materias primas más baratas. El mundo se hacía demasiado complejo para el control estatal total."
                    }
                ]
            },
            // Legado
            {
                pregunta: "¿Qué legado dejó el mercantilismo?",
                respuestas: [
                    {
                        sender: "cromwell",
                        text: "Aunque el sistema como tal desapareció, dejó instituciones duraderas: bancos nacionales, sistemas monetarios organizados y la concepción de economías nacionales. También el proteccionismo reaparece en crisis económicas."
                    },
                    {
                        sender: "mun",
                        text: "Actualmente vemos ecos del mercantilismo en políticas como los aranceles a productos chinos, subsidios a industrias estratégicas, y la obsesión con superávits comerciales de algunos gobiernos."
                    }
                ]
            }
        ];

        // Estado de la conversación
        let pasoActual = 0;
        let mostrandoRespuestas = false;
        const contenedorMensajes = document.getElementById('messages');
        const inputBox = document.getElementById('input-box');
        const botonEnviar = document.getElementById('send-button');

        // Mostrar mensaje en el chat
        function mostrarMensaje(sender, text) {
            const mensajeDiv = document.createElement('div');
            mensajeDiv.classList.add('message', `${sender}-message`);
            
            const avatarImg = document.createElement('img');
            avatarImg.src = participantes[sender].avatar;
            avatarImg.alt = participantes[sender].nombre;
            avatarImg.classList.add('message-avatar');
            
            const contenidoDiv = document.createElement('div');
            contenidoDiv.classList.add('message-content');
            
            const infoDiv = document.createElement('div');
            infoDiv.classList.add('message-info');
            
            const senderSpan = document.createElement('span');
            senderSpan.classList.add('message-sender');
            senderSpan.textContent = participantes[sender].nombre;
            
            const timeSpan = document.createElement('span');
            timeSpan.classList.add('message-time');
            const ahora = new Date();
            timeSpan.textContent = `${ahora.getHours()}:${String(ahora.getMinutes()).padStart(2, '0')}`;
            
            const bubbleDiv = document.createElement('div');
            bubbleDiv.classList.add('message-bubble');
            bubbleDiv.textContent = text;
            
            infoDiv.appendChild(senderSpan);
            infoDiv.appendChild(timeSpan);
            contenidoDiv.appendChild(infoDiv);
            contenidoDiv.appendChild(bubbleDiv);
            
            mensajeDiv.appendChild(avatarImg);
            mensajeDiv.appendChild(contenidoDiv);
            
            contenedorMensajes.appendChild(mensajeDiv);
            contenedorMensajes.scrollTop = contenedorMensajes.scrollHeight;
        }

        // Iniciar conversación
        function iniciarConversacion() {
            mostrarMensaje('teacher', flujoConversacion[pasoActual].pregunta);
            inputBox.value = flujoConversacion[pasoActual].pregunta;
            inputBox.focus();
        }

        // Mostrar respuestas
        function mostrarRespuestas() {
            mostrandoRespuestas = true;
            const respuestas = flujoConversacion[pasoActual].respuestas;
            
            respuestas.forEach((respuesta, index) => {
                setTimeout(() => {
                    mostrarMensaje(respuesta.sender, respuesta.text);
                    
                    // Preparar siguiente pregunta
                    if (index === respuestas.length - 1) {
                        setTimeout(() => {
                            pasoActual = (pasoActual + 1) % flujoConversacion.length;
                            inputBox.value = flujoConversacion[pasoActual].pregunta;
                            mostrandoRespuestas = false;
                        }, 1500);
                    }
                }, 1500 * (index + 1));
            });
        }

        // Manejar clic en enviar
        botonEnviar.addEventListener('click', () => {
            if (!mostrandoRespuestas && inputBox.value.trim() !== '') {
                mostrarMensaje('teacher', inputBox.value);
                setTimeout(mostrarRespuestas, 1000);
            }
        });

        // Manejar tecla Enter
        inputBox.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !mostrandoRespuestas && inputBox.value.trim() !== '') {
                mostrarMensaje('teacher', inputBox.value);
                setTimeout(mostrarRespuestas, 1000);
            }
        });

        // Iniciar la conversación
        iniciarConversacion();
    </script>
</body>
</html>
